(self.webpackChunkweb_ui=self.webpackChunkweb_ui||[]).push([[858],{7858:(t,e,n)=>{"use strict";n.r(e),n.d(e,{TenantModule:()=>et});var i=n(9021),a=n(1116),s=n(1462),o=n(7368),l=n(529),r=n(4923),c=n(2693);let u=(()=>{class t{constructor(t){this.http=t,this.baseUrl=l.N.baseUrl}getInmates(t,e,n){let i=(0,r.r)(t,e);return n&&(i=i.append("search",n)),(0,r.T)(this.http,this.baseUrl+"Inmates",i)}getInmate(t){return this.http.get(this.baseUrl+"Inmates/"+t)}AddInmate(t){return this.http.post(this.baseUrl+"Inmates",t)}AddInmatePhoto(t,e){const n=new FormData;return n.append("file",t),this.http.patch(this.baseUrl+"Inmates/photo/"+e,n)}getTenantBills(t){return this.http.get(this.baseUrl+"bills/inmate/"+t)}updateInmate(t){return this.http.patch(this.baseUrl+"Inmates",t)}getTenantLeaves(t){return this.http.get(this.baseUrl+"leaves/tenant/"+t)}addLeave(t){return this.http.post(this.baseUrl+"leaves",t)}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(c.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n(3492),p=n(3722),g=n(1158);const Z=["inmatePhoto"];let m=(()=>{class t{constructor(t,e,n){this.tenantService=t,this.toast=e,this.router=n,this.staged=!1}ngOnInit(){this.createRegistrationForm()}createRegistrationForm(){this.tenantRegistrationForm=new s.cw({fullName:new s.NI("",s.kI.required),emailAddress:new s.NI("",s.kI.required),phoneNumber:new s.NI("",s.kI.required),dateOfBirth:new s.NI("",s.kI.required),address:new s.NI("",s.kI.required),isVisit:new s.NI("",s.kI.required),isInmateOnTopBed:new s.NI(!0,s.kI.required),inmatePhoto:new s.NI(null)})}addTenant(){this.tenantService.AddInmate(this.tenantRegistrationForm.value).subscribe(t=>{this.uploadInmatePhoto(t.id),this.toast.success("Inmate Added Successfully","Success"),this.router.navigateByUrl("/tenants/list")},t=>{console.log(t)})}onFileChange(t){this.staged=!0}uploadInmatePhoto(t){const e=this.inmatePhoto.nativeElement.files[0];e&&this.tenantService.AddInmatePhoto(e,t).subscribe(t=>{console.log("image uploaded successfully")},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(u),o.Y36(d._W),o.Y36(i.F0))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-add-tenant"]],viewQuery:function(t,e){if(1&t&&o.Gf(Z,5),2&t){let t;o.iGM(t=o.CRH())&&(e.inmatePhoto=t.first)}},decls:40,vars:13,consts:[[1,"inmate-page"],[1,"container"],[1,"d-flext","justify-content-center"],[1,"text-primary"],[1,"lead"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-6"],[3,"formControl","label"],[3,"formControl","label","useMaxDate"],[1,"form-group"],["placeholder","Address","formControlName","address","rows","3",1,"form-control"],[2,"margin-top","auto"],[1,"form-check"],["type","radio","formControlName","isVisit","checked","",1,"form-check-input",3,"value"],["for","exampleRadios1",1,"form-check-label"],["type","radio","formControlName","isVisit",1,"form-check-input",3,"value"],[1,"form-group","form-check"],["type","checkbox","formControlName","isInmateOnTopBed",1,"form-check-input"],[1,"form-check-label"],["type","submit",1,"btn","btn-success","btn-lg",3,"disabled"],[1,"col-3"],["type","file",3,"change"],["inmatePhoto",""]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h4",3),o._uU(4,"Inmate Registration"),o.qZA(),o._UZ(5,"p",4),o.TgZ(6,"form",5),o.NdJ("ngSubmit",function(){return e.addTenant()}),o.TgZ(7,"div",6),o.TgZ(8,"div",7),o._UZ(9,"app-text-input",8),o._UZ(10,"app-text-input",8),o._UZ(11,"app-text-input",8),o._UZ(12,"app-date-input",9),o.TgZ(13,"div",10),o._UZ(14,"textarea",11),o.qZA(),o.TgZ(15,"div",6),o.TgZ(16,"div",7),o.TgZ(17,"h6",12),o.TgZ(18,"strong"),o._uU(19,"Inmate Type"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(20,"div",7),o.TgZ(21,"div",13),o._UZ(22,"input",14),o.TgZ(23,"label",15),o._uU(24," Regular "),o.qZA(),o.qZA(),o.TgZ(25,"div",13),o._UZ(26,"input",16),o.TgZ(27,"label",15),o._uU(28," Visit "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(29,"div",17),o._UZ(30,"input",18),o.TgZ(31,"label",19),o._uU(32,"Top Bed"),o.qZA(),o.qZA(),o.TgZ(33,"button",20),o._uU(34,"Add Tenant"),o.qZA(),o.qZA(),o.TgZ(35,"div",21),o.TgZ(36,"p",4),o._uU(37,"Upload Inmate Photo"),o.qZA(),o.TgZ(38,"input",22,23),o.NdJ("change",function(t){return e.onFileChange(t)}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(6),o.Q6J("formGroup",e.tenantRegistrationForm),o.xp6(3),o.Q6J("formControl",e.tenantRegistrationForm.controls.fullName)("label","Name"),o.xp6(1),o.Q6J("formControl",e.tenantRegistrationForm.controls.emailAddress)("label","E-mail"),o.xp6(1),o.Q6J("formControl",e.tenantRegistrationForm.controls.phoneNumber)("label","Phone Number"),o.xp6(1),o.Q6J("formControl",e.tenantRegistrationForm.controls.dateOfBirth)("label","Date of Birth")("useMaxDate",!0),o.xp6(10),o.Q6J("value",!1),o.xp6(4),o.Q6J("value",!0),o.xp6(7),o.Q6J("disabled",!e.tenantRegistrationForm.valid))},directives:[s._Y,s.JL,s.sg,p.t,s.JJ,s.oH,g.Y,s.Fj,s.u,s._,s.Wl],styles:[""]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tenant-card"]],inputs:{tenant:"tenant"},decls:11,vars:4,consts:[[1,"card","mb-4","shadow-sm",2,"width","80%"],["alt","",3,"src"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"routerLink"],[1,"text-muted"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"img",1),o.TgZ(2,"div",2),o.TgZ(3,"p",3),o._uU(4),o.qZA(),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o.TgZ(7,"button",6),o._uU(8,"View"),o.qZA(),o.qZA(),o.TgZ(9,"small",7),o._uU(10),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(1),o.s9C("src",e.tenant.pictureUrl||"assets/images/noimage.png",o.LSH),o.xp6(3),o.Oqu(e.tenant.fullName),o.xp6(3),o.MGl("routerLink","/tenants/",e.tenant.id,""),o.xp6(3),o.Oqu(0===e.tenant.status?"Active":"Inactive"))},directives:[i.rH],styles:[""]}),t})();var f=n(4532);const A=["search"];function v(t,e){1&t&&(o.TgZ(0,"div",3),o.TgZ(1,"h2"),o._uU(2,"There are no Inmates added , Add one now"),o.qZA(),o.TgZ(3,"button",4),o._uU(4,"Add an Inmate"),o.qZA(),o.qZA())}function T(t,e){if(1&t&&(o.TgZ(0,"p",15),o._uU(1),o.qZA()),2&t){const t=o.oxw(2);o.xp6(1),o.AsE("Showing ",t.tenants.length," of ",t.pagination.count," items")}}function b(t,e){if(1&t&&(o.TgZ(0,"div",16),o._UZ(1,"app-tenant-card",17),o.qZA()),2&t){const t=e.$implicit;o.xp6(1),o.Q6J("tenant",t)}}function q(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",18),o.TgZ(1,"div",19),o.TgZ(2,"pagination",20),o.NdJ("pageChanged",function(e){return o.CHM(t),o.oxw(2).onPageChange(e)}),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(2);o.xp6(2),o.Q6J("boundaryLinks",!0)("itemsPerPage",t.pagination.pageSize)("totalItems",t.pagination.count)}}function x(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",5),o.TgZ(2,"div"),o.YNc(3,T,2,2,"p",6),o.qZA(),o.TgZ(4,"div",7),o.TgZ(5,"button",8),o._uU(6,"Add an Inmate"),o.qZA(),o.TgZ(7,"div",9),o.TgZ(8,"input",10,11),o.NdJ("keyup.enter",function(){return o.CHM(t),o.oxw().onSearch()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(10,"div",12),o.YNc(11,b,2,1,"div",13),o.qZA(),o.TgZ(12,"div",3),o.YNc(13,q,3,3,"div",14),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(3),o.Q6J("ngIf",t.tenants&&t.tenants.length>0),o.xp6(8),o.Q6J("ngForOf",t.tenants),o.xp6(2),o.Q6J("ngIf",t.pagination)}}let I=(()=>{class t{constructor(t){this.tenantService=t,this.tenants=[],this.pageNumber=1,this.pageSize=8}ngOnInit(){this.loadInmates()}loadInmates(){this.tenantService.getInmates(this.pageNumber,this.pageSize,this.searchByValue).subscribe(t=>{this.tenants=t.result,this.pagination=t.pagination,this.pageNumber=this.pagination.pageIndex,this.pageSize=this.pagination.pageSize},t=>{console.log(t)})}onPageChange(t){this.pageNumber=t.page,this.pageNumber!==t&&this.loadInmates()}onSearch(){this.searchByValue=this.searchTerm.nativeElement.value,this.loadInmates()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(u))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tenant-list"]],viewQuery:function(t,e){if(1&t&&o.Gf(A,5),2&t){let t;o.iGM(t=o.CRH())&&(e.searchTerm=t.first)}},decls:3,vars:2,consts:[[1,"container"],["class","d-flex justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["routerLink","/tenants/add-tenant",1,"btn","btn-info","ml-2"],[1,"d-flex","justify-content-between"],["class","text-muted",4,"ngIf"],[1,"form-inline"],["routerLink","/tenants/add-tenant",1,"btn","btn-outline-danger","mr-3"],[1,"form-group","mr-5"],["type","text","placeholder","Search",1,"form-control",3,"keyup.enter"],["search",""],[1,"row","mt-3"],["class","col-3",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"text-muted"],[1,"col-3"],[3,"tenant"],[1,"row"],[1,"col-xs-12","col-12"],[3,"boundaryLinks","itemsPerPage","totalItems","pageChanged"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.YNc(1,v,5,0,"div",1),o.YNc(2,x,14,3,"div",2),o.qZA()),2&t&&(o.xp6(1),o.Q6J("ngIf",e.tenants&&0===e.tenants.length||!e.tenants),o.xp6(1),o.Q6J("ngIf",e.tenants&&e.tenants.length>0))},directives:[a.O5,i.rH,a.sg,h,f.Qt],styles:[""]}),t})();var U=n(1630),_=n(4867),y=n(4668),N=n(5470);let w=(()=>{class t{constructor(t,e,n){this.fb=t,this.tenantService=e,this.toastr=n,this.leaveApplied=new o.vpe}ngOnInit(){this.createLeaveForm()}createLeaveForm(){this.leaveForm=this.fb.group({inmateId:[this.tenantId,s.kI.required],leaveReason:["",s.kI.required],fromDate:[new Date,s.kI.required],toDate:[new Date,s.kI.required]})}onSubmit(){this.tenantService.addLeave(this.leaveForm.value).subscribe(t=>{this.toastr.success("Leave Applied Successfully","Success"),this.leaveForm.reset(),this.leaveApplied.emit(!0)})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(s.qu),o.Y36(u),o.Y36(d._W))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-apply-leave"]],inputs:{tenantId:"tenantId"},outputs:{leaveApplied:"leaveApplied"},decls:15,vars:8,consts:[[1,"container"],[1,"col-10"],[3,"formGroup","ngSubmit"],["for",""],[3,"formControl","label"],[1,"btn","btn-success",3,"disabled"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div"),o.TgZ(2,"div",1),o.TgZ(3,"form",2),o.NdJ("ngSubmit",function(){return e.onSubmit()}),o.TgZ(4,"label",3),o._uU(5,"Leave Reason"),o.qZA(),o._UZ(6,"app-text-input",4),o.TgZ(7,"label",3),o._uU(8,"From Date"),o.qZA(),o._UZ(9,"app-date-input",4),o.TgZ(10,"label",3),o._uU(11,"To Date"),o.qZA(),o._UZ(12,"app-date-input",4),o.TgZ(13,"button",5),o._uU(14,"Apply"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(3),o.Q6J("formGroup",e.leaveForm),o.xp6(3),o.Q6J("formControl",e.leaveForm.controls.leaveReason)("label","Leave Reason"),o.xp6(3),o.Q6J("formControl",e.leaveForm.controls.fromDate)("label","From Date"),o.xp6(3),o.Q6J("formControl",e.leaveForm.controls.toDate)("label","To Date"),o.xp6(1),o.Q6J("disabled",e.leaveForm.invalid))},directives:[s._Y,s.JL,s.sg,p.t,s.JJ,s.oH,g.Y],styles:[""]}),t})();function J(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h3"),o._uU(2,"There are no leaves to display"),o.qZA(),o.TgZ(3,"div",3),o.TgZ(4,"button",4),o.NdJ("click",function(){o.CHM(t);const e=o.oxw(),n=o.MAs(4);return e.openModal(n)}),o._uU(5,"Add Leave"),o.qZA(),o.qZA(),o.qZA()}}function C(t,e){if(1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o._uU(4),o.ALo(5,"date"),o.qZA(),o.TgZ(6,"td"),o._uU(7),o.ALo(8,"date"),o.qZA(),o.TgZ(9,"td"),o._uU(10),o.qZA(),o.TgZ(11,"td"),o._uU(12),o.qZA(),o.qZA()),2&t){const t=e.$implicit;o.xp6(2),o.Oqu(t.id),o.xp6(2),o.Oqu(o.lcZ(5,5,t.fromDate)),o.xp6(3),o.Oqu(o.lcZ(8,7,t.toDate)),o.xp6(3),o.Oqu(t.leaveReason),o.xp6(2),o.Oqu(t.status)}}function S(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",5),o.TgZ(2,"button",4),o.NdJ("click",function(){o.CHM(t);const e=o.oxw(),n=o.MAs(4);return e.openModal(n)}),o._uU(3,"Add Leave"),o.qZA(),o.qZA(),o.TgZ(4,"table",6),o.TgZ(5,"thead"),o.TgZ(6,"tr"),o.TgZ(7,"th"),o._uU(8,"Id"),o.qZA(),o.TgZ(9,"th"),o._uU(10,"From Date"),o.qZA(),o.TgZ(11,"th"),o._uU(12,"To Date"),o.qZA(),o.TgZ(13,"th"),o._uU(14,"Reason"),o.qZA(),o.TgZ(15,"th"),o._uU(16,"Status"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(17,"tbody"),o.YNc(18,C,13,9,"tr",7),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(18),o.Q6J("ngForOf",t.leaves)}}function F(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",8),o.TgZ(1,"h4",9),o._uU(2,"Leave Request"),o.qZA(),o.TgZ(3,"button",10),o.NdJ("click",function(){return o.CHM(t),o.oxw().modalRef.hide()}),o.TgZ(4,"span",11),o._uU(5,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"div",12),o.TgZ(7,"app-apply-leave",13),o.NdJ("leaveApplied",function(e){return o.CHM(t),o.oxw().leaveApplyStatus(e)}),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(7),o.Q6J("tenantId",t.tenantId)}}let M=(()=>{class t{constructor(t){this.modalService=t,this.leaveSuccessEvent=new o.vpe}ngOnInit(){}openModal(t){this.modalRef=this.modalService.show(t)}leaveApplyStatus(t){console.log("leave applied"),this.leaveSuccessEvent.emit(!0),this.modalRef.hide()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(N.tT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tenant-leave"]],inputs:{leaves:"leaves",tenantId:"tenantId"},outputs:{leaveSuccessEvent:"leaveSuccessEvent"},decls:5,vars:2,consts:[[1,"container"],[4,"ngIf"],["template",""],[1,"d-flex","justify-content-start"],[1,"btn","btn-success",3,"click"],[1,"d-flex","justify-content-end"],[1,"table","table-striped","table-bordered","mt-4"],[4,"ngFor","ngForOf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"tenantId","leaveApplied"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0),o.YNc(1,J,6,0,"div",1),o.YNc(2,S,19,1,"div",1),o.qZA(),o.YNc(3,F,8,1,"ng-template",null,2,o.W1O)),2&t&&(o.xp6(1),o.Q6J("ngIf",e.leaves&&0===e.leaves.length),o.xp6(1),o.Q6J("ngIf",e.leaves&&e.leaves.length>0))},directives:[a.O5,a.sg,w],pipes:[a.uU],styles:[""]}),t})();var B=n(7930);function O(t,e){1&t&&(o.TgZ(0,"th",9),o._uU(1,"Paid"),o.qZA())}function k(t,e){1&t&&(o.TgZ(0,"th",10),o._uU(1,"Not Paid"),o.qZA())}function Q(t,e){if(1&t&&(o.TgZ(0,"tr"),o.TgZ(1,"td"),o._uU(2),o.qZA(),o.TgZ(3,"td"),o.TgZ(4,"small"),o.TgZ(5,"i"),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.TgZ(7,"td"),o._uU(8),o.ALo(9,"currency"),o.qZA(),o.qZA()),2&t){const t=e.$implicit,n=e.index;o.xp6(2),o.Oqu(n+1),o.xp6(4),o.Oqu(t.itemCategoryName),o.xp6(2),o.Oqu(o.xi3(9,3,t.amount,"AED "))}}function Y(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",11),o.NdJ("click",function(){o.CHM(t);const e=o.oxw(),n=o.MAs(27);return e.openModal(n)}),o._uU(1,"Pay"),o.qZA()}}function D(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div",12),o.TgZ(1,"h4",13),o._uU(2),o.qZA(),o.TgZ(3,"button",14),o.NdJ("click",function(){return o.CHM(t),o.oxw().modalRef.hide()}),o.TgZ(4,"span",15),o._uU(5,"\xd7"),o.qZA(),o.qZA(),o.qZA(),o.TgZ(6,"div",16),o.TgZ(7,"app-bill-payment",17),o.NdJ("paymentSuccess",function(e){return o.CHM(t),o.oxw().paymentSuccessEvent(e)}),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(2),o.hij("Bill No - ",t.inmateBill.id,""),o.xp6(5),o.Q6J("inputBillId",t.inmateBill.id)("inputInmateId",t.inmateBill.inmateId)("inputAmount",t.inmateBill.billAmount)}}let L=(()=>{class t{constructor(t){this.modalService=t,this.customClass="",this.billPaid=new o.vpe}ngOnInit(){}openModal(t){this.modalRef=this.modalService.show(t)}paymentSuccessEvent(t){this.modalRef.hide(),this.billPaid.emit(!0)}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(N.tT))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tenant-bill"]],inputs:{inmateBill:"inmateBill"},outputs:{billPaid:"billPaid"},decls:28,vars:10,consts:[[3,"panelClass","heading"],[1,"table","table-bordered","table-warning"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-warning"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["class","btn btn-success",3,"click",4,"ngIf"],["template",""],[1,"text-success"],[1,"text-danger"],[1,"btn","btn-success",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"inputBillId","inputInmateId","inputAmount","paymentSuccess"]],template:function(t,e){1&t&&(o.TgZ(0,"accordion-group",0),o.TgZ(1,"table",1),o.TgZ(2,"tr"),o._UZ(3,"th"),o.TgZ(4,"th"),o._uU(5,"Total Bill Amount"),o.qZA(),o.TgZ(6,"th"),o._uU(7),o.ALo(8,"currency"),o.qZA(),o.qZA(),o.TgZ(9,"tr"),o._UZ(10,"th"),o.TgZ(11,"th"),o._uU(12,"Payment Status"),o.qZA(),o.YNc(13,O,2,0,"th",2),o.YNc(14,k,2,0,"th",3),o.qZA(),o.TgZ(15,"tr"),o._UZ(16,"td"),o.TgZ(17,"td",4),o.TgZ(18,"strong"),o._uU(19,"Category"),o.qZA(),o.qZA(),o.TgZ(20,"td",4),o.TgZ(21,"strong"),o._uU(22,"Amount"),o.qZA(),o.qZA(),o.qZA(),o.YNc(23,Q,10,6,"tr",5),o.qZA(),o.TgZ(24,"div",6),o.YNc(25,Y,2,0,"button",7),o.qZA(),o.qZA(),o.YNc(26,D,8,4,"ng-template",null,8,o.W1O)),2&t&&(o.hYB("heading","Bill - ",e.inmateBill.month," ",e.inmateBill.year,""),o.xp6(7),o.Oqu(o.xi3(8,7,e.inmateBill.billAmount,"AED ")),o.xp6(6),o.Q6J("ngIf",0!==e.inmateBill.paymentStatus),o.xp6(1),o.Q6J("ngIf",0===e.inmateBill.paymentStatus),o.xp6(9),o.Q6J("ngForOf",e.inmateBill.billItems),o.xp6(2),o.Q6J("ngIf",0===e.inmateBill.paymentStatus))},directives:[y.U_,a.O5,a.sg,B.p],pipes:[a.H9],styles:[""]}),t})();function R(t,e){if(1&t&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.Q6J("ngValue",t.value),o.xp6(1),o.hij(" ",t.display," ")}}function H(t,e){if(1&t&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.Q6J("ngValue",t.value),o.xp6(1),o.hij(" ",t.display," ")}}function P(t,e){if(1&t&&(o.TgZ(0,"option",33),o._uU(1),o.qZA()),2&t){const t=e.$implicit;o.Q6J("ngValue",t.value),o.xp6(1),o.hij(" ",t.display," ")}}function E(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"h5",21),o._uU(2,"Inmate Status"),o.qZA(),o.TgZ(3,"select",34),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw(2).inmate.status=e}),o.YNc(4,P,2,2,"option",18),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(2);o.xp6(3),o.Q6J("disabled",t.editDisabled)("ngModel",t.inmate.status),o.xp6(1),o.Q6J("ngForOf",t.statusOptions)}}function V(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",35),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).editDisabled=!1})("click",function(){return o.CHM(t),o.oxw(2).onUpdate()}),o._uU(1,"Save Changes"),o.qZA()}}function j(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"button",36),o.NdJ("click",function(){return o.CHM(t),o.oxw(2).editDisabled=!1}),o._uU(1,"Edit Details"),o.qZA()}}function z(t,e){1&t&&(o.TgZ(0,"div"),o.TgZ(1,"h3"),o._uU(2,"There are no Bills to display"),o.qZA(),o.qZA())}function G(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"app-tenant-bill",38),o.NdJ("billPaid",function(e){return o.CHM(t),o.oxw(3).onBillPaid(e)}),o.qZA()}2&t&&o.Q6J("inmateBill",e.$implicit)}function X(t,e){if(1&t&&(o.TgZ(0,"accordion"),o.YNc(1,G,1,1,"app-tenant-bill",37),o.qZA()),2&t){const t=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",t.inmateBills)}}function $(t,e){if(1&t){const t=o.EpF();o.TgZ(0,"div"),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o._UZ(5,"img",5),o.TgZ(6,"div",6),o.TgZ(7,"div"),o.TgZ(8,"h4",7),o._uU(9),o.qZA(),o.qZA(),o.TgZ(10,"div"),o.TgZ(11,"strong"),o._uU(12,"Contact Number:"),o.qZA(),o.TgZ(13,"p"),o._uU(14),o.qZA(),o.qZA(),o.TgZ(15,"div"),o.TgZ(16,"strong"),o._uU(17,"Age:"),o.qZA(),o.TgZ(18,"p"),o._uU(19),o.qZA(),o.qZA(),o.TgZ(20,"div"),o.TgZ(21,"strong"),o._uU(22,"Member Status:"),o.qZA(),o.TgZ(23,"p"),o._uU(24),o.qZA(),o.qZA(),o.qZA(),o._UZ(25,"div",8),o.qZA(),o.qZA(),o.TgZ(26,"div",9),o.TgZ(27,"tabset",10,11),o.TgZ(29,"tab",12),o.NdJ("selectTab",function(e){return o.CHM(t),o.oxw().onSelect(e)}),o.TgZ(30,"form",13,14),o.NdJ("ngSubmit",function(){return o.CHM(t),o.oxw().onUpdate()}),o.TgZ(32,"div",2),o.TgZ(33,"div",15),o.TgZ(34,"h5",16),o._uU(35,"Email Address"),o.qZA(),o.TgZ(36,"p"),o._uU(37),o.qZA(),o.TgZ(38,"h5",16),o._uU(39,"Inmate Type"),o.qZA(),o.TgZ(40,"select",17),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw().inmate.isVisit=e}),o.YNc(41,R,2,2,"option",18),o.qZA(),o.TgZ(42,"h5",16),o._uU(43,"Bed Type"),o.qZA(),o.TgZ(44,"select",19),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw().inmate.isInmateOnTopBed=e}),o.YNc(45,H,2,2,"option",18),o.qZA(),o.TgZ(46,"h5",16),o._uU(47,"Address"),o.qZA(),o.TgZ(48,"p"),o._uU(49),o.qZA(),o.YNc(50,E,5,3,"div",0),o.qZA(),o.TgZ(51,"div",15),o.TgZ(52,"h5",16),o._uU(53,"Amount Due"),o.qZA(),o.TgZ(54,"input",20),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw().inmate.amountDue=e}),o.qZA(),o.TgZ(55,"h5",21),o._uU(56,"Savings"),o.qZA(),o.TgZ(57,"input",22),o.NdJ("ngModelChange",function(e){return o.CHM(t),o.oxw().inmate.savings=e}),o.qZA(),o.TgZ(58,"h5",21),o._uU(59,"Room Number"),o.qZA(),o.TgZ(60,"p",23),o._uU(61,"4"),o._UZ(62,"i",24),o.qZA(),o.TgZ(63,"small",25),o.TgZ(64,"i"),o._uU(65,"*Room number details are not supported as of now"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(66,"div",26),o.YNc(67,V,2,0,"button",27),o.YNc(68,j,2,0,"button",28),o.TgZ(69,"button",29),o.NdJ("click",function(){return o.CHM(t),o.oxw().onReset()}),o._uU(70,"Reset"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(71,"tab",30),o.NdJ("selectTab",function(e){return o.CHM(t),o.oxw().onSelect(e)}),o.YNc(72,z,3,0,"div",0),o.YNc(73,X,2,1,"accordion",0),o.qZA(),o.TgZ(74,"tab",31),o.NdJ("selectTab",function(e){return o.CHM(t),o.oxw().onSelect(e)}),o.TgZ(75,"accordion"),o.TgZ(76,"app-tenant-leave",32),o.NdJ("leaveSuccessEvent",function(e){return o.CHM(t),o.oxw().onLeaveAddedSuccess(e)}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw();o.xp6(5),o.s9C("src",t.inmate.pictureUrl||"assets/images/man.png",o.LSH),o.s9C("alt",t.inmate.fullName),o.xp6(4),o.Oqu(t.inmate.fullName),o.xp6(5),o.Oqu(t.inmate.phoneNumber),o.xp6(5),o.Oqu(t.inmate.age),o.xp6(5),o.Oqu(0==t.inmate.status?"Active":"Inactive"),o.xp6(13),o.Oqu(t.inmate.emailAddress||"None"),o.xp6(3),o.Q6J("disabled",t.editDisabled)("ngModel",t.inmate.isVisit),o.xp6(1),o.Q6J("ngForOf",t.tenantOptions),o.xp6(3),o.Q6J("disabled",t.editDisabled)("ngModel",t.inmate.isInmateOnTopBed),o.xp6(1),o.Q6J("ngForOf",t.bedTypeOptions),o.xp6(4),o.Oqu(t.inmate.address),o.xp6(1),o.Q6J("ngIf",!t.editDisabled),o.xp6(4),o.Q6J("disabled",t.editDisabled)("ngModel",t.inmate.amountDue),o.xp6(3),o.Q6J("disabled",t.editDisabled)("ngModel",t.inmate.savings),o.xp6(10),o.Q6J("ngIf",!1===t.editDisabled),o.xp6(1),o.Q6J("ngIf",!0===t.editDisabled),o.xp6(4),o.Q6J("ngIf",0===t.inmateBills.length),o.xp6(1),o.Q6J("ngIf",t.inmateBills.length>0),o.xp6(3),o.Q6J("leaves",t.leaves)("tenantId",t.inmate.id)}}const W=[{path:"",component:I,data:{breadcrumb:"Inmates"}},{path:"add-tenant",component:m,data:{breadcrumb:"Add Inmate"}},{path:"list",component:I,data:{breadcrumb:"Inmates"}},{path:":id",component:(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.tenantService=e,this.bcService=n,this.inmateBills=[],this.editDisabled=!0,this.tenantOptions=[{value:!0,display:"Visit"},{value:!1,display:"Regular"}],this.bedTypeOptions=[{value:!0,display:"Top Bed"},{value:!1,display:"Bottom Bed"}],this.statusOptions=[{value:0,display:"Active"},{value:1,display:"Left"},{value:2,display:"Away"},{value:3,display:"Leaving"}]}ngOnInit(){this.loadTenant()}loadTenant(){const t=this.activatedRoute.snapshot.paramMap.get("id");this.tenantService.getInmate(parseInt(t)).subscribe(t=>{this.inmate=t,this.bcService.set("@inmateName",this.inmate.fullName)},t=>{console.log(t)})}loadTenantBills(){this.tenantService.getTenantBills(this.inmate.id).subscribe(t=>{this.inmateBills=t},t=>{console.log(t)})}loadTenantLeaves(){this.tenantService.getTenantLeaves(this.inmate.id).subscribe(t=>{this.leaves=t},t=>{console.log(t)})}onSelect(t){"Bill Details"===t.heading&&this.loadTenantBills(),"Leaves"===t.heading&&this.loadTenantLeaves()}onBillPaid(t){this.loadTenantBills()}onUpdate(){this.tenantService.updateInmate(this.inmate).subscribe(t=>{console.log("updated succesfully")},t=>{console.log(t)})}onReset(){this.editDisabled=!0,this.loadTenant()}onLeaveAddedSuccess(t){this.loadTenantLeaves()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(i.gz),o.Y36(u),o.Y36(U.pm))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-tenant-view"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"container-fluid","px-4"],[1,"row"],[1,"col-4"],[1,"card"],[1,"card-img-top","img-thumbnail",3,"src","alt"],[1,"card-body"],[1,"text-info"],[1,"card-footer"],[1,"col-8"],[1,"member-tabset"],["memberTabs",""],["heading","Basic Info",3,"selectTab"],[3,"ngSubmit"],["form","ngForm"],[1,"col-5"],[1,"text-success"],["name","isVisit",1,"form-control","col-5","my-2",3,"disabled","ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","isInmateOnTopBed",1,"form-control","col-7","my-2",3,"disabled","ngModel","ngModelChange"],["type","number","name","amountDue",1,"form-control","col-6",3,"disabled","ngModel","ngModelChange"],[1,"text-success","mt-2"],["type","number","name","savings",1,"form-control","col-6",3,"disabled","ngModel","ngModelChange"],[1,"lead"],[1,"fa","fa-edit","fa-3","ml-3"],[1,"text-muted"],[1,"mt-2"],["type","submit","class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger ml-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","ml-2",3,"click"],["heading","Bill Details",3,"selectTab"],["heading","Leaves",3,"selectTab"],[3,"leaves","tenantId","leaveSuccessEvent"],[3,"ngValue"],["name","status",1,"form-control","col-7","my-2",3,"disabled","ngModel","ngModelChange"],["type","submit",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger","ml-2",3,"click"],[3,"inmateBill","billPaid",4,"ngFor","ngForOf"],[3,"inmateBill","billPaid"]],template:function(t,e){1&t&&o.YNc(0,$,77,25,"div",0),2&t&&o.Q6J("ngIf",e.inmate)},directives:[a.O5,_.AH,_.wW,s._Y,s.JL,s.F,s.EJ,s.JJ,s.On,a.sg,s.wV,s.Fj,y.Zf,M,s.YN,s.Kr,L],styles:[".card[_ngcontent-%COMP%]{width:70%;margin-left:10%}"]}),t})(),data:{breadcrumb:{alias:"inmateName"}}}];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[a.ez,i.Bz.forChild(W)],i.Bz]}),t})();var tt=n(5425);let et=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[a.ez,tt.m,i.Bz],K]}),t})()}}]);