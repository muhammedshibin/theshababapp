(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{IhWD:function(t,e,n){"use strict";n.r(e),n.d(e,"TenantModule",function(){return Z});var a=n("tyNb"),i=n("ofXK"),c=n("3Pt+"),b=n("fXoL"),s=n("AytR"),o=n("ZThW"),l=n("tk/3");let r=(()=>{class t{constructor(t){this.http=t,this.baseUrl=s.a.baseUrl}getInmates(t,e,n){let a=Object(o.b)(t,e);return n&&(a=a.append("search",n)),Object(o.a)(this.http,this.baseUrl+"Inmates",a)}getInmate(t){return this.http.get(this.baseUrl+"Inmates/"+t)}AddInmate(t){return this.http.post(this.baseUrl+"Inmates",t)}getTenantBills(t){return this.http.get(this.baseUrl+"bills/inmate/"+t)}updateInmate(t){return this.http.patch(this.baseUrl+"Inmates",t)}getTenantLeaves(t){return this.http.get(this.baseUrl+"leaves/tenant/"+t)}addLeave(t){return this.http.post(this.baseUrl+"leaves",t)}}return t.\u0275fac=function(e){return new(e||t)(b.Vb(l.b))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=n("5eHb"),u=n("gA0Q"),m=n("2kvE");let p=(()=>{class t{constructor(t,e,n){this.tenantService=t,this.toast=e,this.router=n}ngOnInit(){this.createRegistrationForm()}createRegistrationForm(){this.tenantRegistrationForm=new c.g({fullName:new c.d("",c.v.required),emailAddress:new c.d("",c.v.required),phoneNumber:new c.d("",c.v.required),dateOfBirth:new c.d("",c.v.required),address:new c.d("",c.v.required),isVisit:new c.d("",c.v.required),isInmateOnTopBed:new c.d(!0,c.v.required),inmatePhoto:new c.d(null)})}addTenant(){this.tenantService.AddInmate(this.tenantRegistrationForm.value).subscribe(t=>{console.log(t),this.toast.success("Inmate Added Successfully","Success"),this.router.navigateByUrl("/tenants/list")},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(r),b.Lb(d.b),b.Lb(a.c))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-add-tenant"]],decls:42,vars:13,consts:[[1,"inmate-page"],[1,"container"],[1,"d-flext","justify-content-center"],[1,"text-primary"],[1,"lead"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-6"],[3,"formControl","label"],[1,"form-group"],["placeholder","Address","formControlName","address","rows","3",1,"form-control"],[2,"margin-top","auto"],[1,"form-check"],["type","radio","formControlName","isVisit","checked","",1,"form-check-input",3,"value"],["for","exampleRadios1",1,"form-check-label"],["type","radio","formControlName","isVisit",1,"form-check-input",3,"value"],[1,"form-group","form-check"],["type","checkbox","formControlName","isInmateOnTopBed",1,"form-check-input"],[1,"form-check-label"],["type","submit",1,"btn","btn-success","btn-lg",3,"disabled"],[1,"col-3"],["type","file","formControlName","inmatePhoto",3,"disabled"],[1,"text-warning","mt-1"]],template:function(t,e){1&t&&(b.Rb(0,"div",0),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"h4",3),b.Cc(4,"Inmate Registration"),b.Qb(),b.Mb(5,"p",4),b.Rb(6,"form",5),b.Yb("ngSubmit",function(){return e.addTenant()}),b.Rb(7,"div",6),b.Rb(8,"div",7),b.Mb(9,"app-text-input",8),b.Mb(10,"app-text-input",8),b.Mb(11,"app-text-input",8),b.Mb(12,"app-date-input",8),b.Rb(13,"div",9),b.Mb(14,"textarea",10),b.Qb(),b.Rb(15,"div",6),b.Rb(16,"div",7),b.Rb(17,"h6",11),b.Rb(18,"strong"),b.Cc(19,"Inmate Type"),b.Qb(),b.Qb(),b.Qb(),b.Rb(20,"div",7),b.Rb(21,"div",12),b.Mb(22,"input",13),b.Rb(23,"label",14),b.Cc(24," Regular "),b.Qb(),b.Qb(),b.Rb(25,"div",12),b.Mb(26,"input",15),b.Rb(27,"label",14),b.Cc(28," Visit "),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(29,"div",16),b.Mb(30,"input",17),b.Rb(31,"label",18),b.Cc(32,"Top Bed"),b.Qb(),b.Qb(),b.Rb(33,"button",19),b.Cc(34,"Add Tenant"),b.Qb(),b.Qb(),b.Rb(35,"div",20),b.Rb(36,"p",4),b.Cc(37,"Upload Inmate Photo"),b.Qb(),b.Mb(38,"input",21),b.Rb(39,"p",22),b.Rb(40,"i"),b.Cc(41,"Image Upload Currently not supported"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t&&(b.zb(6),b.gc("formGroup",e.tenantRegistrationForm),b.zb(3),b.gc("formControl",e.tenantRegistrationForm.controls.fullName)("label","Name"),b.zb(1),b.gc("formControl",e.tenantRegistrationForm.controls.emailAddress)("label","E-mail"),b.zb(1),b.gc("formControl",e.tenantRegistrationForm.controls.phoneNumber)("label","Phone Number"),b.zb(1),b.gc("formControl",e.tenantRegistrationForm.controls.dateOfBirth)("label","Date of Birth"),b.zb(10),b.gc("value",!1),b.zb(4),b.gc("value",!0),b.zb(7),b.gc("disabled",!e.tenantRegistrationForm.valid),b.zb(5),b.gc("disabled",!0))},directives:[c.w,c.n,c.h,u.a,c.m,c.e,m.a,c.b,c.f,c.s,c.a],styles:[""]}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Fb({type:t,selectors:[["app-tenant-card"]],inputs:{tenant:"tenant"},decls:11,vars:4,consts:[[1,"card","mb-4","shadow-sm",2,"width","80%"],["alt","",3,"src"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"routerLink"],[1,"text-muted"]],template:function(t,e){1&t&&(b.Rb(0,"div",0),b.Mb(1,"img",1),b.Rb(2,"div",2),b.Rb(3,"p",3),b.Cc(4),b.Qb(),b.Rb(5,"div",4),b.Rb(6,"div",5),b.Rb(7,"button",6),b.Cc(8,"View"),b.Qb(),b.Qb(),b.Rb(9,"small",7),b.Cc(10),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t&&(b.zb(1),b.hc("src",e.tenant.inmatePhoto||"assets/images/noimage.png",b.wc),b.zb(3),b.Dc(e.tenant.fullName),b.zb(3),b.ic("routerLink","/tenants/",e.tenant.id,""),b.zb(3),b.Dc(0===e.tenant.status?"Active":"Inactive"))},directives:[a.d],styles:[""]}),t})();var f=n("Lm2G");const h=["search"];function v(t,e){1&t&&(b.Rb(0,"div",3),b.Rb(1,"h2"),b.Cc(2,"There are no Inmates added , Add one now"),b.Qb(),b.Rb(3,"button",4),b.Cc(4,"Add an Inmate"),b.Qb(),b.Qb())}function R(t,e){if(1&t&&(b.Rb(0,"p",15),b.Cc(1),b.Qb()),2&t){const t=b.ac(2);b.zb(1),b.Fc("Showing ",t.tenants.length," of ",t.pagination.count," items")}}function Q(t,e){if(1&t&&(b.Rb(0,"div",16),b.Mb(1,"app-tenant-card",17),b.Qb()),2&t){const t=e.$implicit;b.zb(1),b.gc("tenant",t)}}function C(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div",18),b.Rb(1,"div",19),b.Rb(2,"pagination",20),b.Yb("pageChanged",function(e){return b.uc(t),b.ac(2).onPageChange(e)}),b.Qb(),b.Qb(),b.Qb()}if(2&t){const t=b.ac(2);b.zb(2),b.gc("boundaryLinks",!0)("itemsPerPage",t.pagination.pageSize)("totalItems",t.pagination.count)}}function I(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div"),b.Rb(1,"div",5),b.Rb(2,"div"),b.Ac(3,R,2,2,"p",6),b.Qb(),b.Rb(4,"div",7),b.Rb(5,"button",8),b.Cc(6,"Add an Inmate"),b.Qb(),b.Rb(7,"div",9),b.Rb(8,"input",10,11),b.Yb("keyup.enter",function(){return b.uc(t),b.ac().onSearch()}),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Rb(10,"div",12),b.Ac(11,Q,2,1,"div",13),b.Qb(),b.Rb(12,"div",3),b.Ac(13,C,3,3,"div",14),b.Qb(),b.Qb()}if(2&t){const t=b.ac();b.zb(3),b.gc("ngIf",t.tenants&&t.tenants.length>0),b.zb(8),b.gc("ngForOf",t.tenants),b.zb(2),b.gc("ngIf",t.pagination)}}let y=(()=>{class t{constructor(t){this.tenantService=t,this.tenants=[],this.pageNumber=1,this.pageSize=8}ngOnInit(){this.loadInmates()}loadInmates(){this.tenantService.getInmates(this.pageNumber,this.pageSize,this.searchByValue).subscribe(t=>{this.tenants=t.result,this.pagination=t.pagination,this.pageNumber=this.pagination.pageIndex,this.pageSize=this.pagination.pageSize},t=>{console.log(t)})}onPageChange(t){this.pageNumber=t.page,this.pageNumber!==t&&this.loadInmates()}onSearch(){this.searchByValue=this.searchTerm.nativeElement.value,this.loadInmates()}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(r))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-tenant-list"]],viewQuery:function(t,e){if(1&t&&b.Gc(h,1),2&t){let t;b.qc(t=b.Zb())&&(e.searchTerm=t.first)}},decls:3,vars:2,consts:[[1,"container"],["class","d-flex justify-content-center",4,"ngIf"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["routerLink","/tenants/add-tenant",1,"btn","btn-info","ml-2"],[1,"d-flex","justify-content-between"],["class","text-muted",4,"ngIf"],[1,"form-inline"],["routerLink","/tenants/add-tenant",1,"btn","btn-outline-danger","mr-3"],[1,"form-group","mr-5"],["type","text","placeholder","Search",1,"form-control",3,"keyup.enter"],["search",""],[1,"row","mt-3"],["class","col-3",4,"ngFor","ngForOf"],["class","row",4,"ngIf"],[1,"text-muted"],[1,"col-3"],[3,"tenant"],[1,"row"],[1,"col-xs-12","col-12"],[3,"boundaryLinks","itemsPerPage","totalItems","pageChanged"]],template:function(t,e){1&t&&(b.Rb(0,"div",0),b.Ac(1,v,5,0,"div",1),b.Ac(2,I,14,3,"div",2),b.Qb()),2&t&&(b.zb(1),b.gc("ngIf",e.tenants&&0===e.tenants.length||!e.tenants),b.zb(1),b.gc("ngIf",e.tenants&&e.tenants.length>0))},directives:[i.m,a.d,i.l,g,f.a],styles:[""]}),t})();var S=n("tc9g"),z=n("44PX"),A=n("S8xs"),w=n("K3ix");let B=(()=>{class t{constructor(t,e,n){this.fb=t,this.tenantService=e,this.toastr=n,this.leaveApplied=new b.n}ngOnInit(){this.createLeaveForm()}createLeaveForm(){this.leaveForm=this.fb.group({inmateId:[this.tenantId,c.v.required],leaveReason:["",c.v.required],fromDate:[new Date,c.v.required],toDate:[new Date,c.v.required]})}onSubmit(){this.tenantService.addLeave(this.leaveForm.value).subscribe(t=>{this.toastr.success("Leave Applied Successfully","Success"),this.leaveForm.reset(),this.leaveApplied.emit(!0)},t=>{this.toastr.error("Error Occured","Error")})}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(c.c),b.Lb(r),b.Lb(d.b))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-apply-leave"]],inputs:{tenantId:"tenantId"},outputs:{leaveApplied:"leaveApplied"},decls:15,vars:8,consts:[[1,"container"],[1,"col-10"],[3,"formGroup","ngSubmit"],["for",""],[3,"formControl","label"],[1,"btn","btn-success",3,"disabled"]],template:function(t,e){1&t&&(b.Rb(0,"div",0),b.Rb(1,"div"),b.Rb(2,"div",1),b.Rb(3,"form",2),b.Yb("ngSubmit",function(){return e.onSubmit()}),b.Rb(4,"label",3),b.Cc(5,"Leave Reason"),b.Qb(),b.Mb(6,"app-text-input",4),b.Rb(7,"label",3),b.Cc(8,"From Date"),b.Qb(),b.Mb(9,"app-date-input",4),b.Rb(10,"label",3),b.Cc(11,"To Date"),b.Qb(),b.Mb(12,"app-date-input",4),b.Rb(13,"button",5),b.Cc(14,"Apply"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()),2&t&&(b.zb(3),b.gc("formGroup",e.leaveForm),b.zb(3),b.gc("formControl",e.leaveForm.controls.leaveReason)("label","Leave Reason"),b.zb(3),b.gc("formControl",e.leaveForm.controls.fromDate)("label","From Date"),b.zb(3),b.gc("formControl",e.leaveForm.controls.toDate)("label","To Date"),b.zb(1),b.gc("disabled",e.leaveForm.invalid))},directives:[c.w,c.n,c.h,u.a,c.m,c.e,m.a],styles:[""]}),t})();function D(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div"),b.Rb(1,"h3"),b.Cc(2,"There are no leaves to display"),b.Qb(),b.Rb(3,"div",3),b.Rb(4,"button",4),b.Yb("click",function(){b.uc(t);const e=b.ac(),n=b.rc(4);return e.openModal(n)}),b.Cc(5,"Add Leave"),b.Qb(),b.Qb(),b.Qb()}}function F(t,e){if(1&t&&(b.Rb(0,"tr"),b.Rb(1,"td"),b.Cc(2),b.Qb(),b.Rb(3,"td"),b.Cc(4),b.bc(5,"date"),b.Qb(),b.Rb(6,"td"),b.Cc(7),b.bc(8,"date"),b.Qb(),b.Rb(9,"td"),b.Cc(10),b.Qb(),b.Rb(11,"td"),b.Cc(12),b.Qb(),b.Qb()),2&t){const t=e.$implicit;b.zb(2),b.Dc(t.id),b.zb(2),b.Dc(b.cc(5,5,t.fromDate)),b.zb(3),b.Dc(b.cc(8,7,t.toDate)),b.zb(3),b.Dc(t.leaveReason),b.zb(2),b.Dc(t.status)}}function M(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div"),b.Rb(1,"div",5),b.Rb(2,"button",4),b.Yb("click",function(){b.uc(t);const e=b.ac(),n=b.rc(4);return e.openModal(n)}),b.Cc(3,"Add Leave"),b.Qb(),b.Qb(),b.Rb(4,"table",6),b.Rb(5,"thead"),b.Rb(6,"tr"),b.Rb(7,"th"),b.Cc(8,"Id"),b.Qb(),b.Rb(9,"th"),b.Cc(10,"From Date"),b.Qb(),b.Rb(11,"th"),b.Cc(12,"To Date"),b.Qb(),b.Rb(13,"th"),b.Cc(14,"Reason"),b.Qb(),b.Rb(15,"th"),b.Cc(16,"Status"),b.Qb(),b.Qb(),b.Qb(),b.Rb(17,"tbody"),b.Ac(18,F,13,9,"tr",7),b.Qb(),b.Qb(),b.Qb()}if(2&t){const t=b.ac();b.zb(18),b.gc("ngForOf",t.leaves)}}function T(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div",8),b.Rb(1,"h4",9),b.Cc(2,"Leave Request"),b.Qb(),b.Rb(3,"button",10),b.Yb("click",function(){return b.uc(t),b.ac().modalRef.hide()}),b.Rb(4,"span",11),b.Cc(5,"\xd7"),b.Qb(),b.Qb(),b.Qb(),b.Rb(6,"div",12),b.Rb(7,"app-apply-leave",13),b.Yb("leaveApplied",function(e){return b.uc(t),b.ac().leaveApplyStatus(e)}),b.Qb(),b.Qb()}if(2&t){const t=b.ac();b.zb(7),b.gc("tenantId",t.tenantId)}}let k=(()=>{class t{constructor(t){this.modalService=t,this.leaveSuccessEvent=new b.n}ngOnInit(){}openModal(t){this.modalRef=this.modalService.show(t)}leaveApplyStatus(t){console.log("leave applied"),this.leaveSuccessEvent.emit(!0),this.modalRef.hide()}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(w.b))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-tenant-leave"]],inputs:{leaves:"leaves",tenantId:"tenantId"},outputs:{leaveSuccessEvent:"leaveSuccessEvent"},decls:5,vars:2,consts:[[1,"container"],[4,"ngIf"],["template",""],[1,"d-flex","justify-content-start"],[1,"btn","btn-success",3,"click"],[1,"d-flex","justify-content-end"],[1,"table","table-striped","table-bordered","mt-4"],[4,"ngFor","ngForOf"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"tenantId","leaveApplied"]],template:function(t,e){1&t&&(b.Rb(0,"div",0),b.Ac(1,D,6,0,"div",1),b.Ac(2,M,19,1,"div",1),b.Qb(),b.Ac(3,T,8,1,"ng-template",null,2,b.Bc)),2&t&&(b.zb(1),b.gc("ngIf",e.leaves&&0===e.leaves.length),b.zb(1),b.gc("ngIf",e.leaves&&e.leaves.length>0))},directives:[i.m,i.l,B],pipes:[i.f],styles:[""]}),t})();var L=n("SngD");function x(t,e){1&t&&(b.Rb(0,"th",9),b.Cc(1,"Paid"),b.Qb())}function O(t,e){1&t&&(b.Rb(0,"th",10),b.Cc(1,"Not Paid"),b.Qb())}function N(t,e){if(1&t&&(b.Rb(0,"tr"),b.Rb(1,"td"),b.Cc(2),b.Qb(),b.Rb(3,"td"),b.Rb(4,"small"),b.Rb(5,"i"),b.Cc(6),b.Qb(),b.Qb(),b.Qb(),b.Rb(7,"td"),b.Cc(8),b.bc(9,"currency"),b.Qb(),b.Qb()),2&t){const t=e.$implicit,n=e.index;b.zb(2),b.Dc(n+1),b.zb(4),b.Dc(t.itemCategoryName),b.zb(2),b.Dc(b.dc(9,3,t.amount,"AED "))}}function P(t,e){if(1&t){const t=b.Sb();b.Rb(0,"button",11),b.Yb("click",function(){b.uc(t);const e=b.ac(),n=b.rc(27);return e.openModal(n)}),b.Cc(1,"Pay"),b.Qb()}}function Y(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div",12),b.Rb(1,"h4",13),b.Cc(2),b.Qb(),b.Rb(3,"button",14),b.Yb("click",function(){return b.uc(t),b.ac().modalRef.hide()}),b.Rb(4,"span",15),b.Cc(5,"\xd7"),b.Qb(),b.Qb(),b.Qb(),b.Rb(6,"div",16),b.Rb(7,"app-bill-payment",17),b.Yb("paymentSuccess",function(e){return b.uc(t),b.ac().paymentSuccessEvent(e)}),b.Qb(),b.Qb()}if(2&t){const t=b.ac();b.zb(2),b.Ec("Bill No - ",t.inmateBill.id,""),b.zb(5),b.gc("inputBillId",t.inmateBill.id)("inputInmateId",t.inmateBill.inmateId)("inputAmount",t.inmateBill.billAmount)}}let E=(()=>{class t{constructor(t){this.modalService=t,this.customClass="",this.billPaid=new b.n}ngOnInit(){}openModal(t){this.modalRef=this.modalService.show(t)}paymentSuccessEvent(t){this.modalRef.hide(),this.billPaid.emit(!0)}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(w.b))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-tenant-bill"]],inputs:{inmateBill:"inmateBill"},outputs:{billPaid:"billPaid"},decls:28,vars:10,consts:[[3,"panelClass","heading"],[1,"table","table-bordered","table-warning"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-warning"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["class","btn btn-success",3,"click",4,"ngIf"],["template",""],[1,"text-success"],[1,"text-danger"],[1,"btn","btn-success",3,"click"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"inputBillId","inputInmateId","inputAmount","paymentSuccess"]],template:function(t,e){1&t&&(b.Rb(0,"accordion-group",0),b.Rb(1,"table",1),b.Rb(2,"tr"),b.Mb(3,"th"),b.Rb(4,"th"),b.Cc(5,"Total Bill Amount"),b.Qb(),b.Rb(6,"th"),b.Cc(7),b.bc(8,"currency"),b.Qb(),b.Qb(),b.Rb(9,"tr"),b.Mb(10,"th"),b.Rb(11,"th"),b.Cc(12,"Payment Status"),b.Qb(),b.Ac(13,x,2,0,"th",2),b.Ac(14,O,2,0,"th",3),b.Qb(),b.Rb(15,"tr"),b.Mb(16,"td"),b.Rb(17,"td",4),b.Rb(18,"strong"),b.Cc(19,"Category"),b.Qb(),b.Qb(),b.Rb(20,"td",4),b.Rb(21,"strong"),b.Cc(22,"Amount"),b.Qb(),b.Qb(),b.Qb(),b.Ac(23,N,10,6,"tr",5),b.Qb(),b.Rb(24,"div",6),b.Ac(25,P,2,0,"button",7),b.Qb(),b.Qb(),b.Ac(26,Y,8,4,"ng-template",null,8,b.Bc)),2&t&&(b.jc("heading","Bill - ",e.inmateBill.month," ",e.inmateBill.year,""),b.zb(7),b.Dc(b.dc(8,7,e.inmateBill.billAmount,"AED ")),b.zb(6),b.gc("ngIf",0!==e.inmateBill.paymentStatus),b.zb(1),b.gc("ngIf",0===e.inmateBill.paymentStatus),b.zb(9),b.gc("ngForOf",e.inmateBill.billItems),b.zb(2),b.gc("ngIf",0===e.inmateBill.paymentStatus))},directives:[A.c,i.m,i.l,L.a],pipes:[i.d],styles:[""]}),t})();function U(t,e){if(1&t&&(b.Rb(0,"option",32),b.Cc(1),b.Qb()),2&t){const t=e.$implicit;b.gc("ngValue",t.value),b.zb(1),b.Ec(" ",t.display," ")}}function V(t,e){if(1&t&&(b.Rb(0,"option",32),b.Cc(1),b.Qb()),2&t){const t=e.$implicit;b.gc("ngValue",t.value),b.zb(1),b.Ec(" ",t.display," ")}}function q(t,e){if(1&t){const t=b.Sb();b.Rb(0,"button",33),b.Yb("click",function(){return b.uc(t),b.ac(2).editDisabled=!1})("click",function(){return b.uc(t),b.ac(2).onUpdate()}),b.Cc(1,"Save Changes"),b.Qb()}}function j(t,e){if(1&t){const t=b.Sb();b.Rb(0,"button",34),b.Yb("click",function(){return b.uc(t),b.ac(2).editDisabled=!1}),b.Cc(1,"Edit Details"),b.Qb()}}function G(t,e){1&t&&(b.Rb(0,"div"),b.Rb(1,"h3"),b.Cc(2,"There are no Bills to display"),b.Qb(),b.Qb())}function $(t,e){if(1&t){const t=b.Sb();b.Rb(0,"app-tenant-bill",36),b.Yb("billPaid",function(e){return b.uc(t),b.ac(3).onBillPaid(e)}),b.Qb()}2&t&&b.gc("inmateBill",e.$implicit)}function J(t,e){if(1&t&&(b.Rb(0,"accordion"),b.Ac(1,$,1,1,"app-tenant-bill",35),b.Qb()),2&t){const t=b.ac(2);b.zb(1),b.gc("ngForOf",t.inmateBills)}}function X(t,e){if(1&t){const t=b.Sb();b.Rb(0,"div"),b.Rb(1,"div",1),b.Rb(2,"div",2),b.Rb(3,"div",3),b.Rb(4,"div",4),b.Mb(5,"img",5),b.Rb(6,"div",6),b.Rb(7,"div"),b.Rb(8,"h4",7),b.Cc(9),b.Qb(),b.Qb(),b.Rb(10,"div"),b.Rb(11,"strong"),b.Cc(12,"Contact Number:"),b.Qb(),b.Rb(13,"p"),b.Cc(14),b.Qb(),b.Qb(),b.Rb(15,"div"),b.Rb(16,"strong"),b.Cc(17,"Age:"),b.Qb(),b.Rb(18,"p"),b.Cc(19),b.Qb(),b.Qb(),b.Rb(20,"div"),b.Rb(21,"strong"),b.Cc(22,"Member Status:"),b.Qb(),b.Rb(23,"p"),b.Cc(24),b.Qb(),b.Qb(),b.Qb(),b.Mb(25,"div",8),b.Qb(),b.Qb(),b.Rb(26,"div",9),b.Rb(27,"tabset",10,11),b.Rb(29,"tab",12),b.Yb("selectTab",function(e){return b.uc(t),b.ac().onSelect(e)}),b.Rb(30,"form",13,14),b.Yb("ngSubmit",function(){return b.uc(t),b.ac().onUpdate()}),b.Rb(32,"div",2),b.Rb(33,"div",15),b.Rb(34,"h5",16),b.Cc(35,"Email Address"),b.Qb(),b.Rb(36,"p"),b.Cc(37),b.Qb(),b.Rb(38,"h5",16),b.Cc(39,"Inmate Type"),b.Qb(),b.Rb(40,"select",17),b.Yb("ngModelChange",function(e){return b.uc(t),b.ac().inmate.isVisit=e}),b.Ac(41,U,2,2,"option",18),b.Qb(),b.Rb(42,"h5",16),b.Cc(43,"Bed Type"),b.Qb(),b.Rb(44,"select",19),b.Yb("ngModelChange",function(e){return b.uc(t),b.ac().inmate.isInmateOnTopBed=e}),b.Ac(45,V,2,2,"option",18),b.Qb(),b.Rb(46,"h5",16),b.Cc(47,"Address"),b.Qb(),b.Rb(48,"p"),b.Cc(49),b.Qb(),b.Qb(),b.Rb(50,"div",15),b.Rb(51,"h5",16),b.Cc(52,"Amount Due"),b.Qb(),b.Rb(53,"input",20),b.Yb("ngModelChange",function(e){return b.uc(t),b.ac().inmate.amountDue=e}),b.Qb(),b.Rb(54,"h5",21),b.Cc(55,"Savings"),b.Qb(),b.Rb(56,"input",22),b.Yb("ngModelChange",function(e){return b.uc(t),b.ac().inmate.savings=e}),b.Qb(),b.Rb(57,"h5",21),b.Cc(58,"Room Number"),b.Qb(),b.Rb(59,"p",23),b.Cc(60,"4"),b.Mb(61,"i",24),b.Qb(),b.Rb(62,"small",25),b.Rb(63,"i"),b.Cc(64,"*Room number details are not supported as of now"),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Ac(65,q,2,0,"button",26),b.Ac(66,j,2,0,"button",27),b.Rb(67,"button",28),b.Yb("click",function(){return b.uc(t),b.ac().onReset()}),b.Cc(68,"Reset"),b.Qb(),b.Qb(),b.Qb(),b.Rb(69,"tab",29),b.Yb("selectTab",function(e){return b.uc(t),b.ac().onSelect(e)}),b.Ac(70,G,3,0,"div",0),b.Ac(71,J,2,1,"accordion",0),b.Qb(),b.Rb(72,"tab",30),b.Yb("selectTab",function(e){return b.uc(t),b.ac().onSelect(e)}),b.Rb(73,"accordion"),b.Rb(74,"app-tenant-leave",31),b.Yb("leaveSuccessEvent",function(e){return b.uc(t),b.ac().onLeaveAddedSuccess(e)}),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb(),b.Qb()}if(2&t){const t=b.ac();b.zb(5),b.hc("src",t.inmate.pictureUrl||"assets/images/man.png",b.wc),b.hc("alt",t.inmate.fullName),b.zb(4),b.Dc(t.inmate.fullName),b.zb(5),b.Dc(t.inmate.phoneNumber),b.zb(5),b.Dc(t.inmate.age),b.zb(5),b.Dc(0==t.inmate.status?"Active":"Inactive"),b.zb(13),b.Dc(t.inmate.emailAddress||"None"),b.zb(3),b.gc("disabled",t.editDisabled)("ngModel",t.inmate.isVisit),b.zb(1),b.gc("ngForOf",t.tenantOptions),b.zb(3),b.gc("disabled",t.editDisabled)("ngModel",t.inmate.isInmateOnTopBed),b.zb(1),b.gc("ngForOf",t.bedTypeOptions),b.zb(4),b.Dc(t.inmate.address),b.zb(4),b.gc("disabled",t.editDisabled)("ngModel",t.inmate.amountDue),b.zb(3),b.gc("disabled",t.editDisabled)("ngModel",t.inmate.savings),b.zb(9),b.gc("ngIf",!1===t.editDisabled),b.zb(1),b.gc("ngIf",!0===t.editDisabled),b.zb(4),b.gc("ngIf",0===t.inmateBills.length),b.zb(1),b.gc("ngIf",t.inmateBills.length>0),b.zb(3),b.gc("leaves",t.leaves)("tenantId",t.inmate.id)}}const H=[{path:"",component:y,data:{breadcrumb:"Inmates"}},{path:"add-tenant",component:p,data:{breadcrumb:"Add Inmate"}},{path:"list",component:y,data:{breadcrumb:"Inmates"}},{path:":id",component:(()=>{class t{constructor(t,e,n){this.activatedRoute=t,this.tenantService=e,this.bcService=n,this.inmateBills=[],this.editDisabled=!0,this.tenantOptions=[{value:!0,display:"Visit"},{value:!1,display:"Regular"}],this.bedTypeOptions=[{value:!0,display:"Top Bed"},{value:!1,display:"Bottom Bed"}]}ngOnInit(){this.loadTenant()}loadTenant(){const t=this.activatedRoute.snapshot.paramMap.get("id");this.tenantService.getInmate(parseInt(t)).subscribe(t=>{this.inmate=t,this.bcService.set("@inmateName",this.inmate.fullName)},t=>{console.log(t)})}loadTenantBills(){this.tenantService.getTenantBills(this.inmate.id).subscribe(t=>{this.inmateBills=t},t=>{console.log(t)})}loadTenantLeaves(){this.tenantService.getTenantLeaves(this.inmate.id).subscribe(t=>{this.leaves=t},t=>{console.log(t)})}onSelect(t){"Bill Details"===t.heading&&this.loadTenantBills(),"Leaves"===t.heading&&this.loadTenantLeaves()}onBillPaid(t){this.loadTenantBills()}onUpdate(){this.tenantService.updateInmate(this.inmate).subscribe(t=>{console.log("updated succesfully")},t=>{console.log(t)})}onReset(){this.editDisabled=!0,this.loadTenant()}onLeaveAddedSuccess(t){this.loadTenantLeaves()}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(a.a),b.Lb(r),b.Lb(S.c))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-tenant-view"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"container-fluid","px-4"],[1,"row"],[1,"col-4"],[1,"card"],[1,"card-img-top","img-thumbnail",3,"src","alt"],[1,"card-body"],[1,"text-info"],[1,"card-footer"],[1,"col-8"],[1,"member-tabset"],["memberTabs",""],["heading","Basic Info",3,"selectTab"],[3,"ngSubmit"],["form","ngForm"],[1,"col-5"],[1,"text-success"],["name","isVisit",1,"form-control","col-5","my-2",3,"disabled","ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["name","isInmateOnTopBed",1,"form-control","col-7","my-2",3,"disabled","ngModel","ngModelChange"],["type","number","name","amountDue",1,"form-control","col-6",3,"disabled","ngModel","ngModelChange"],[1,"text-success","mt-2"],["type","number","name","savings",1,"form-control","col-6",3,"disabled","ngModel","ngModelChange"],[1,"lead"],[1,"fa","fa-edit","fa-3","ml-3"],[1,"text-muted"],["type","submit","class","btn btn-success",3,"click",4,"ngIf"],["class","btn btn-danger ml-2",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary","ml-2",3,"click"],["heading","Bill Details",3,"selectTab"],["heading","Leaves",3,"selectTab"],[3,"leaves","tenantId","leaveSuccessEvent"],[3,"ngValue"],["type","submit",1,"btn","btn-success",3,"click"],[1,"btn","btn-danger","ml-2",3,"click"],[3,"inmateBill","billPaid",4,"ngFor","ngForOf"],[3,"inmateBill","billPaid"]],template:function(t,e){1&t&&b.Ac(0,X,75,24,"div",0),2&t&&b.gc("ngIf",e.inmate)},directives:[i.m,z.c,z.a,c.w,c.n,c.o,c.u,c.m,c.p,i.l,c.r,c.b,A.a,k,c.q,c.x,E],styles:[".card[_ngcontent-%COMP%]{margin-left:10%;width:70%}"]}),t})(),data:{breadcrumb:{alias:"inmateName"}}}];let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[i.c,a.g.forChild(H)],a.g]}),t})();var W=n("PCNd");let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({imports:[[i.c,W.a,a.g],K]}),t})()}}]);