(self.webpackChunkweb_ui=self.webpackChunkweb_ui||[]).push([[592],{1636:(t,e,n)=>{"use strict";n.d(e,{C:()=>o});var r=n(529),a=n(4923),s=n(7368),i=n(2693);let o=(()=>{class t{constructor(t){this.http=t,this.baseUrl=r.N.baseUrl}generateMonthlyBills(t,e){return this.http.get(this.baseUrl+`Bills/total/${t}/${e}`)}generateIndividualBills(t,e){return this.http.post(this.baseUrl+`Bills/${t}/${e}`,{})}payBill(t){return this.http.post(this.baseUrl+"Bills/payment",t)}getBills(t){let e=(0,a.r)(t.pageNumber,t.pageSize);return t.month&&(e=e.append("month",t.month.toString())),t.year&&(e=e.append("year",t.year.toString())),t.search&&(e=e.append("search",t.search)),t.paidPredicate&&(e=e.append("paidPredicate",t.paidPredicate)),(0,a.T)(this.http,this.baseUrl+"bills",e)}}return t.\u0275fac=function(e){return new(e||t)(s.LFG(i.eN))},t.\u0275prov=s.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},7930:(t,e,n)=>{"use strict";n.d(e,{p:()=>u});var r=n(1462),a=n(7368),s=n(1636),i=n(3492),o=n(3722),l=n(1158);let u=(()=>{class t{constructor(t,e,n){this.fb=t,this.billService=e,this.toastr=n,this.paymentSuccess=new a.vpe}ngOnInit(){this.createPaymentForm()}createPaymentForm(){this.paymentForm=this.fb.group({inmateId:["",r.kI.required],paidOn:[new Date],amount:[0,r.kI.min(1)],billId:[""]}),this.paymentForm.patchValue({inmateId:this.inputInmateId,billId:this.inputBillId,amount:this.inputAmount})}onSubmit(){this.billService.payBill(this.paymentForm.value).subscribe(t=>{this.toastr.success("Payment Recorded Successfully","Succecss"),this.paymentForm.reset(),this.paymentSuccess.emit(!0)},t=>{this.toastr.error("Error occured during Payment","Error")})}}return t.\u0275fac=function(e){return new(e||t)(a.Y36(r.qu),a.Y36(s.C),a.Y36(i._W))},t.\u0275cmp=a.Xpm({type:t,selectors:[["app-bill-payment"]],inputs:{inputInmateId:"inputInmateId",inputBillId:"inputBillId",inputAmount:"inputAmount"},outputs:{paymentSuccess:"paymentSuccess"},decls:18,vars:12,consts:[[1,"container"],[1,"col-10"],[3,"formGroup","ngSubmit"],["for",""],[3,"formControl","type","label"],[3,"formControl","label"],[1,"btn","btn-success"]],template:function(t,e){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div"),a.TgZ(2,"div",1),a.TgZ(3,"form",2),a.NdJ("ngSubmit",function(){return e.onSubmit()}),a.TgZ(4,"label",3),a._uU(5,"Inmate ID"),a.qZA(),a._UZ(6,"app-text-input",4),a.TgZ(7,"label",3),a._uU(8,"Paid On"),a.qZA(),a._UZ(9,"app-date-input",5),a.TgZ(10,"label",3),a._uU(11,"Amount"),a.qZA(),a._UZ(12,"app-text-input",4),a.TgZ(13,"label",3),a._uU(14,"Bill ID"),a.qZA(),a._UZ(15,"app-text-input",4),a.TgZ(16,"button",6),a._uU(17,"Pay"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(3),a.Q6J("formGroup",e.paymentForm),a.xp6(3),a.Q6J("formControl",e.paymentForm.controls.inmateId)("type","number")("label","Inmate ID"),a.xp6(3),a.Q6J("formControl",e.paymentForm.controls.paidOn)("label","Paid On"),a.xp6(3),a.Q6J("formControl",e.paymentForm.controls.amount)("type","number")("label","Amount"),a.xp6(3),a.Q6J("formControl",e.paymentForm.controls.billId)("type","number")("label","Bill Id"))},directives:[r._Y,r.JL,r.sg,o.t,r.JJ,r.oH,l.Y],styles:[""]}),t})()},1158:(t,e,n)=>{"use strict";n.d(e,{Y:()=>l});var r=n(7368),a=n(1462),s=n(2479),i=n(1116);function o(t,e){if(1&t&&(r.TgZ(0,"div",3),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij(" ",t.label," is required ")}}let l=(()=>{class t{constructor(t){this.ngControl=t,this.useMaxDate=!1,this.bsValue=new Date,this.ngControl.valueAccessor=this,this.bsConfig={dateInputFormat:"YYYY-MM-DD",maxDate:this.useMaxDate?this.getMaxDate():void 0},this.bsValue=this.inputDate||new Date}writeValue(t){}registerOnChange(t){}registerOnTouched(t){}setDisabledState(t){}getMaxDate(){const t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate();return new Date(e-18,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(a.a5,2))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-date-input"]],inputs:{label:"label",inputDate:"inputDate",useMaxDate:"useMaxDate"},decls:3,vars:8,consts:[[1,"form-group"],["type","text","bsDatepicker","",1,"form-control",3,"placeholder","formControl","bsConfig","bsValue","maxDate"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r._UZ(1,"input",1),r.YNc(2,o,2,1,"div",2),r.qZA()),2&t&&(r.xp6(1),r.ekj("is-invalid",e.ngControl.invalid&&e.ngControl.touched),r.s9C("placeholder",e.label),r.Q6J("formControl",e.ngControl.control)("bsConfig",e.bsConfig)("bsValue",e.bsValue)("maxDate",e.useMaxDate?e.getMaxDate():void 0),r.xp6(1),r.Q6J("ngIf",e.ngControl.hasError("required")))},directives:[s.Y5,a.Fj,s.Np,a.JJ,a.oH,i.O5],styles:[""]}),t})()},7078:(t,e,n)=>{"use strict";n.d(e,{F:()=>r});class r{constructor(){this.pageNumber=1,this.pageSize=10}}},9891:(t,e,n)=>{"use strict";n.d(e,{n:()=>i});var r=n(529),a=n(7368),s=n(2693);let i=(()=>{class t{constructor(t){this.http=t,this.baseUrl=r.N.baseUrl}getVendors(){return this.http.get(this.baseUrl+"vendors")}getVendor(t){return this.http.get(this.baseUrl+"vendors/"+t)}addVendor(t){return this.http.post(this.baseUrl+"vendors",{name:t})}updateVendor(t){return this.http.patch(this.baseUrl+"vendors",t)}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(s.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);